
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Dashboard Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/css/bootstrap.css" rel="stylesheet">

    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css">
    <script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
    <!-- <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/styles/github.min.css"> -->
    
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/languages/javascript.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- Custom styles for this template -->
    <link href="dashboard.css" rel="stylesheet">
    <link href="custom.css" rel="stylesheet">
    <link href="css/wf-colors.css" rel="stylesheet">

  </head>

<body>

     <div class="container-fluid">
      <div class="row">
        <div style="z-index: 5000;" class="col-sm-3 col-md-2 sidebar">
          <img src="img/data-ale-final-small2.png" alt="">
          <hr>
          <ul class="nav nav-sidebar">
            <li ><a href="index.html">Overview</a></li>
            <li ><a href="getting_started.html">Getting Started</a></li>
            <li  class="active"><a href="documentation.html">RESTful API</a></li>
            <li class="sub-list">
              <div class="sub-list header">Workflow Activities</div>
              <ul class="sub-list list">
                
                  <li><a href="define.html">Define Problem</a></li>
                
                  <li><a href="getdata.html">Get Data</a></li>
                
                  <li><a href="explore.html">Explore Data</a></li>
                
                  <li><a href="create.html">Create View</a></li>
                
                  <li><a href="enrich.html">Enrich Data</a></li>
                
                  <li><a href="transform.html">Transform Data</a></li>
                
              </ul>
            </li>
          </ul>
        </div>
        <div  style="position: relative;" data-spy="scroll" data-target=".navbar-example" class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
          
<h1 class="page-header">RESTful API</h1>  

<!-- <div class="row">
  <div class="col-md-12 navbar-example">
    <ul class="nav nav-pills">
      <li><a href="#json">RESTful API</a></li>
      <li><a href="#json">JSON</a></li>
    </ul>
  </div>
</div> -->
<p>
  This section describes the REST interface so that a developer may develop custom messages to POST to the logging server.  Libraries have already been developed in JavaScript and handle the creation and sending of these messages.  These helper libraries can be found on Github <a href="https://github.com/draperlaboratory/data-ale/tree/master/helper-libs">here</a>
</p>

<div class="alert alert-info" role="alert">
 A client tool that wishes to use the Data-ALE library requires the use of a running logging server. Please contact the Draper team for the URL of this server.
</div>

<p>
  Currently, there is one endpoint, <code>/send_msg</code>, that accepts JSON messages via an HTTP POST request method.  The API expects to receive either a User Action or a System Action, each of which are described in more detail below.
</p>

<h4>User Action</h4>

<div class="step" style="margin-left: 20px;">
  <p>A user action message attempts to describe the activity the User was meaning to perform.  This activity is described at 3 levels of specificity:
    <ul>
      <li><b>Activity Description:</b> this a natural language description of the activity being performed and provides the most specific description of what the user was doing.</li>
      <li><b>Activity Code:</b> this is a coded description of the activity and attempts to summarize the action into a 1-4 word code that can ideally be generalized across various tools.</li>
      <li><b>Activity Workflow Code:</b> this is the least specific description of the activity and is used to provided meaningful correlations across various tools.
      </li>
    </ul>
  </p>
  
  <p>
    Activities should fall into 1 of 6 model based activity workflow states, each of which are described in more detail at the following links:
    <ul>
      <li><a href="define.html">Define Problem</a></li>
      <li><a href="getdata.html">Get Data</a></li>
      <li><a href="explore.html">Explore Data</a></li>
      <li><a href="create.html">Create View</a></li>
      <li><a href="enrich.html">Enrich Data</a></li>
      <li><a href="transform.html">Transform Data</a></li>
    </ul>
  </p>
  
  <h5>Example JSON Message</h5>
  <pre><code style="font-size: 13px; ">
  {
    "type" : "USERACTION",
    "parms" : {
      "desc" : "National Average added to Chart",
      "activity" : "summerizeData",
      "wf_state" : "4",
      "wf_version" : "1.0"
    },
    "timestamp" : "2014-01-23T16:13:52.503Z",
    "client" : "172.16.3.43",
    "component" : {
      "name" : "KitwareHospitalCosts",
      "version" : "0.1"
    },
    "sessionID" : "52e13fadf361151349000002",
    "impLanguage" : "JavaScript",
    "apiVersion" : "0.2.0"
  }
  </code></pre>
</div>

<h4 id="sys-action">System Action</h4>

<div class="step" style="margin-left: 20px;">
  <p>A system action message attempts to describe actions that were being performed by the system, either independently of the user, or as a cascading effect of past user actions. The system action message only requires a description, but may need more structure in future implementations.
  </p>
  
  <h5>Example JSON Message</h5>
  <pre><code style="font-size: 13px; ">
  {
    "type" : "SYSACTION",
    "parms" : {
      "desc" : "Kitware Twitter Browsing - updateGraph executed"
    },
    "timestamp" : "2014-02-21T16:21:43.151Z",
    "client" : "172.16.3.43",
    "component" : {
      "name" : "Kitware_Twitter_Browsing",
      "version" : "0.1"
    },
    "sessionID" : "53077d2f22c173f256000027",
    "impLanguage" : "JavaScript",
    "apiVersion" : "0.2.0"
  }
  </code></pre>
</div>

<h4>JSON Message Field Descriptions</h4>
<div class="step" style="margin-left: 20px;">
  <ul>
    <li><b>type:</b> either <code>SYSACTION</code> or <code>USERACTION</code></li>
    <li><b>parms:</b>
      <ul>
        <li><b>desc:</b> description of action. (both <code>SYSACTION</code> or <code>USERACTION</code>)</li>
        <li><b>activity:</b> user action activity code (<code>USERACTION</code> only)</li>
        <li><b>wf_state:</b> user action activity workflow state (<code>USERACTION</code> only)</li>
        <li><b>wf_version:</b> user action activity workflow state version(<code>USERACTION</code> only)</li>
      </ul>
    </li>
    <li><b>timestamp:</b> ISO datetime of message.</li>
    <li><b>client:</b> an identifier to describe to user or terminal sending this message.</li>
    <li><b>component:</b>
      <ul>
        <li><b>name:</b> name of the tool sending logs</li>
        <li><b>version:</b> tool version</li>
      </ul>
    </li>
    <li><b>sessionID:</b> a GUID used to group logs together by session.</li>
    <li><b>impLanguage:</b> the programming language used to create the message.</li>
    <li><b>apiVersion:</b> the logging API version used for this message.</li>
  </ul>
</div>

        </div>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <!-- // <script src="../../assets/js/docs.min.js"></script> -->
  </body>
</html>